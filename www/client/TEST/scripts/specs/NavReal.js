// Generated by CoffeeScript 1.4.0

define(['jquery'], function($) {
  return describe("As user I want switch navigation", function() {
    describe("test that I am in navigation mode", function() {
      return describe("test that more than one slide and the last slide is not the current one. when I received a new one, it is not showed ", function() {
        return it("should not display the new slide", function() {
          var current, found, testNav;
          found = null;
          current = null;
          runs(function() {
            found = false;
            return current = 0;
          });
          testNav = function() {
            var display, slideCountFirst, testNewSlide;
            slideCountFirst = 0;
            $('#SlideList>div>div').each(function(index, elem) {
              slideCountFirst++;
              if ($(elem).css('display') === 'block') {
                current = slideCountFirst - 1;
                return console.log('Test Current: ', current);
              }
            });
            display = $('#SlideList>div>div').last().css('display');
            if (display === 'none') {
              if (slideCountFirst > 2) {
                found = true;
                testNewSlide = function() {
                  var slideCountTwo;
                  slideCountTwo = 0;
                  $('#SlideList>div>div').each(function(index, elem) {
                    slideCountTwo++;
                    console.log("Test Slide Count Two", slideCountTwo);
                    return console.log("Test slide Count First", slideCountFirst);
                  });
                  if (slideCountTwo > slideCountFirst) {
                    return true;
                  } else {
                    return false;
                  }
                };
                waitsFor(testNewSlide, "new slide just comes", 10000);
                return true;
              } else {
                return false;
              }
            }
          };
          waitsFor(testNav, "we are in navigation", 10000);
          return runs(function() {
            var allSlide, currentSlide;
            currentSlide = $('#SlideList>div>div').get(current);
            console.log(currentSlide);
            expect($(currentSlide).css('display')).toBe('block');
            allSlide = 0;
            return $('#SlideList>div>div').each(function(index, elem) {
              var slide;
              allSlide++;
              slide = $('#SlideList>div>div').get(allSlide - 1);
              if (current !== (allSlide - 1)) {
                return expect($(elem).css('display')).toBe('none');
              }
            });
          });
        });
      });
    });
    return describe("test that I am back into RealTime mode", function() {
      return it("should show the new slide that arrived", function() {});
    });
  });
});
